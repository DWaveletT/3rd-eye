---
create_time: 1682776084
update_time: 1682776084
title: 题解 P3418 【[POI2005]PUN-Points】
board: 1
tag:
- 2
---

非常好题目，爱来自小波。

## 题解

题目需要我们判定一堆点组成的集合 $G$ 能否通过一系列变换转换成另外一个点集 $G'$。似乎很难处理。尤其难以把控的，是这个旋转变换与翻转变换。

试设想这样一个场景：在桌面上摊着一块大饼，用手指固定住其中一点去旋转它，要使得手指不会受到侧向的力，那么手指按压的点应该是大饼的中心（为什么会有这样的联想……）这个故事提示我们，重心（质心）这个点似乎很有意思。

为什么很有意思呢？因为可以发现，

- 一个固定的点集，它的质心是唯一确定而可以轻易计算的；
- 对于平移变换，平移后的质心的位置就是原先质心的坐标按照平移的方向进行变换；
- 对于旋转变换，以质心作为变换中心，旋转后质心的坐标不变；
- 对于缩放变换，以质心作为变换中心，缩放后质心的坐标不变。

一个不以质心作为变换中心的旋转/缩放变换，可以看作平移变换加上对应的旋转/缩放变换。因此对于质心而言，整个过程只经历了平移变换。

那么只要知道变换前后质心的坐标，就可以推算出平移变换的情况。接着发现，记点集所有点到质心的距离总和为 $S$，缩放变换后距离总和变成了 $kS$，所以由此又可以倒推出缩放变换的值。将这两步产生的影响全部消去，就可以视为只发生了旋转变换。

